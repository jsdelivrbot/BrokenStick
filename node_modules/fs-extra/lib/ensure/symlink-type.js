<<<<<<< HEAD
'use strict'

const fs = require('graceful-fs')
=======
var fs = require('graceful-fs')
>>>>>>> 96911c554a5d2c5e490b720523c328313a65f0bd

function symlinkType (srcpath, type, callback) {
  callback = (typeof type === 'function') ? type : callback
  type = (typeof type === 'function') ? false : type
  if (type) return callback(null, type)
<<<<<<< HEAD
  fs.lstat(srcpath, (err, stats) => {
=======
  fs.lstat(srcpath, function (err, stats) {
>>>>>>> 96911c554a5d2c5e490b720523c328313a65f0bd
    if (err) return callback(null, 'file')
    type = (stats && stats.isDirectory()) ? 'dir' : 'file'
    callback(null, type)
  })
}

function symlinkTypeSync (srcpath, type) {
<<<<<<< HEAD
  let stats

  if (type) return type
  try {
    stats = fs.lstatSync(srcpath)
=======
  if (type) return type
  try {
    var stats = fs.lstatSync(srcpath)
>>>>>>> 96911c554a5d2c5e490b720523c328313a65f0bd
  } catch (e) {
    return 'file'
  }
  return (stats && stats.isDirectory()) ? 'dir' : 'file'
}

module.exports = {
<<<<<<< HEAD
  symlinkType,
  symlinkTypeSync
=======
  symlinkType: symlinkType,
  symlinkTypeSync: symlinkTypeSync
>>>>>>> 96911c554a5d2c5e490b720523c328313a65f0bd
}
